--- # cabling standards

version: "1.0"
hardware_type: "hpe"
nodes:
  - type: "ncn"
    subtype: "master"
    devices:
      - name: "ocp"
        ports: 
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "HMN, NMN, CAN"
          name: "mgmt0"
          lag: "mlag-lacp"
        - destination: "site"
          name: "Manager 001 to site, otherwise NONE (see notes)"
      - name: "pcie-slot1"
        ports: 
        - destination: "secondary (second switch in MLAG pair)"
          vlan_name: "HMN, NMN, CAN"
          name: "mgmt1"
          lag: "mlag-lacp"
        - destination: 
      - name: "ilo"
        ports:
        - destination: 'HMN Leaf'
          vlan_name: "HMN"
    notes:
      - "REQUIRED:  Master 001 (ncn-m001) is required to have a site connection on OCP Port 2 for installation and maintenance."
      - "RECOMMENDED: Masters 002 and 003 may optionally have a site connection on OCP Port 2 for emergency system access."
      - "REQUIRED:  Master 001 (ncn-m001) is required to have it's BMC/iLO connected to the site."
  - type: "ncn"
    subtype: "worker"
    devices:
      - name: "ocp"
        ports: 
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "HMN, NMN, CAN"
          name: "mgmt0"
          lag: "mlag-lacp"
        - destination: "secondary (second switch in MLAG pair)"
          vlan_name: "HMN, NMN, CAN"
          name: "mgmt1"
          lag: "mlag-lacp"
      - name: "ilo"
        ports:
        - destination: 'HMN Leaf'
          vlan_name: "HMN"
    notes:
      - "A single OCP card is the default worker configuration."
  - type: "ncn"
    subtype: "storage"
    devices:
      - name: "ocp"
        ports:
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "HMN, NMN, CAN"
          name: "mgmt0"
          lag: "mlag-lacp"
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "SUN"
          name: "mgmt1"
          lag: "mlag-lacp"
      - name: "pcie-slot1"
        ports:
        - destination: "secondary (second switch in MLAG pair)"
          vlan_name: "HMN, NMN, CAN"
          name: "mgmt2"
          lag: "mlag-lacp"
        - destination: "secondary (second switch in MLAG pair)"
          vlan_name: "SUN"
          name: "mgmt3"
          lag: "mlag-lacp"
      - name: "ilo"
        ports: 
        - destination: 'HMN Leaf'
          vlan_name: "HMN"
    notes:
      - "All ports are cabled."
      - "OCP Port 1 and PCIE Slot 1 Port 1 (first ports) are bonded for the NMN, HMN and CAN."
      - "OCP Port 2 and PCIE Slot 1 Port 2 (second ports) cabled but not configured in this release."
  - type: "application"
    subtype: "uan"
    devices:
      - name: "ocp"
        ports: 
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "NMN"
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "CAN"
          lag: "mlag-lacp"
      - name: "pcie-slot1"
        ports:
        - destination: "secondary (second switch in MLAG pair)"
        - destination: "secondary (second switch in MLAG pair)"
          vlan_name: "CAN"
          lag: "mlag-lacp"
      - name: "ilo"
        ports: 
        - destination: 'HMN Leaf'
          vlan_name: "HMN"
    notes:
      - "All ports are cabled."
      - "The OCP Port 1 connects to the NMN in a non-bonded configuration."
      - "The PCIE Slot 1 Port 1 is cabled but not configured/used in this release."
      - "OCP Port 2 and PCIE Slot 1 Port 2 (second ports) are bonded for the CAN."
  - type: "application"
    subtype: "login"
    devices:
      - name: "ocp"
        ports: 
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "NMN"
        - destination: "primary (first switch in MLAG pair)"
          vlan_name: "CAN"
          lag: "mlag-lacp"
      - name: "pcie-slot1"
        ports:
        - destination: "secondary (second switch in MLAG pair)"
        - destination: "secondary (second switch in MLAG pair)"
          vlan_name: "CAN"
          lag: "mlag-lacp"
      - name: "ilo"
        ports: 
        - destination: 'HMN Leaf'
          vlan_name: "HMN"
  - type: "mountain"
    subtype: "cmm"
    devices:
      - name: "cmm"
        ports: 
        - destination: "cmm port 1"
          vlan_name: "MTN_HMN, MTN_NMN"
          lag: "mlag-static"
        - destination: "cmm port 2"
          vlan_name: "MTN_HMN, MTN_NMN"
          lag: "mlag-static"
  - type: "mountain"
    subtype: "cec"
    devices: 
      - name: "cec"
        ports:
          - destination: "CDU switch access port"
            vlan_name: "MTN_HMN"